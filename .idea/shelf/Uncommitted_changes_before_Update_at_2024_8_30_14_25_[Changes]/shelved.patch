Index: community/src/views/login/LoginView.vue
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><template>\r\n  <el-container>\r\n    <!-- 头部 -->\r\n\r\n    <!-- 侧边栏 -->\r\n    <el-aside>\r\n      <paticlebar></paticlebar>\r\n    </el-aside>\r\n\r\n    <!-- 内容 -->\r\n    <el-main>\r\n      <div class=\"container pl-5 pr-5 pt-3 pb-3 mt-3 mb-3\">\r\n        <!--        <h3 class=\"text-center text-info border-bottom pb-3\">登录</h3>-->\r\n        <img src=\"@/images/logo.jpg\" class=\"logo\">\r\n        <el-form :model=\"form\" :rules=\"rules\" ref=\"loginForm\" label-width=\"100px\">\r\n          <el-form-item label=\"账号\" prop=\"username\">\r\n            <el-input v-model=\"form.username\" placeholder=\"请输入您的账号\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"密码\" prop=\"password\">\r\n            <el-input v-model=\"form.password\" type=\"password\" placeholder=\"请输入您的密码\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"验证码\" prop=\"code\">\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"14\">\r\n                <el-input v-model=\"form.code\" placeholder=\"请输入验证码\"></el-input>\r\n              </el-col>\r\n              <el-col :span=\"10\">\r\n                <img :src=\"kaptchaSrc\" id=\"kaptcha\" style=\"width: 100px; height: 40px;\"/>\r\n                <a href=\"javascript:void(0);\" @click=\"refreshKaptcha\">刷新验证码</a>\r\n              </el-col>\r\n            </el-row>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-checkbox v-model=\"form.rememberMe\">记住我</el-checkbox>\r\n            <a @click=\"navigateToForget\" class=\"text1\">忘记密码?</a>\r\n            <a @click=\"navigateToRegister\" class=\"text1\">立即注册</a>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <!--            修改样式加上返回按钮-->\r\n            <el-button @click=\"handleSubmit\" class=\"button\">立即登录</el-button>\r\n            <el-button @click=\"handleBack\" class=\"button\">返回首页</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport {ref, onMounted} from 'vue';\r\nimport axios from 'axios';\r\n\r\nimport {useCommonTranslations} from '@/lang/i18nhelper';\r\n\r\nimport {ElMessage} from 'element-plus';\r\nimport {useI18n} from 'vue-i18n';\r\n// import ParticleSidebar from '@/codepen/ParticleSidebar.vue';\r\nimport {defineAsyncComponent} from 'vue';\r\n\r\nimport {useRouter} from 'vue-router';\r\nimport paticlebar from '@/codepen/ParticleSidebar.vue';\r\n\r\n\r\nconst form = ref({\r\n  username: '',\r\n  password: '',\r\n  code: '',\r\n  rememberMe: false,\r\n});\r\n//加入返回按钮\r\n\r\nconst router = useRouter();\r\n\r\nconst handleBack = () => {\r\n  // router.push('/');\r\n  window.location.href = '/';\r\n};\r\nconst kaptchaSrc = ref('/kaptcha');\r\nconst translations = useCommonTranslations();\r\nconst navigateToRegister = () => {\r\n  window.location.href = '/register';\r\n};\r\nconst navigateToForget = () => {\r\n  window.location.href = '/forget';\r\n};\r\nconst {t, locale} = useI18n({useScope: \"global\"});\r\nconst selectedLanguage = ref('zh');\r\nconst changeLanguage = () => {\r\n  locale.value = selectedLanguage.value;\r\n};\r\n\r\nconst rules = {\r\n  username: [\r\n    {required: true, message: t('message.enterUsername'), trigger: 'blur'},\r\n  ],\r\n  password: [\r\n    {required: true, message: t('message.enterPassword'), trigger: 'blur'},\r\n    {min: 8, message: t('message.passwordLength'), trigger: 'blur'},\r\n  ],\r\n  code: [\r\n    {required: true, message: t('message.enterCode'), trigger: 'blur'},\r\n  ],\r\n};\r\n\r\n\r\nconst loginForm = ref(null);\r\n\r\nconst refreshKaptcha = () => {\r\n  kaptchaSrc.value = `/kaptcha?${new Date().getTime()}`;\r\n};\r\n\r\nconst handleSubmit = () => {\r\n  loginForm.value.validate((valid) => {\r\n    if (valid) {\r\n      postData();\r\n    } else {\r\n      console.log('表单验证失败');\r\n      return false;\r\n    }\r\n  });\r\n};\r\n\r\nconst postData = () => {\r\n  axios\r\n      .post('/login', form.value)\r\n      .then((response) => {\r\n        console.log(\"登录成功\");\r\n        ElMessage.success(t('message.loginSuccess'));\r\n      })\r\n      .catch((error) => {\r\n        console.error('登录失败:', error);\r\n        ElMessage.error(t('message.loginFailed'));\r\n      });\r\n};\r\n\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\n@import \"@/css/views/Register.css\";\r\n</style>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/community/src/views/login/LoginView.vue b/community/src/views/login/LoginView.vue
--- a/community/src/views/login/LoginView.vue	(revision ba64d235b628bed86492848e289c1fa917b64275)
+++ b/community/src/views/login/LoginView.vue	(date 1724984632987)
@@ -50,12 +50,10 @@
 import {ref, onMounted} from 'vue';
 import axios from 'axios';
 
-import {useCommonTranslations} from '@/lang/i18nhelper';
+// import {useCommonTranslations} from '@/lang/i18nhelper';
 
 import {ElMessage} from 'element-plus';
-import {useI18n} from 'vue-i18n';
-// import ParticleSidebar from '@/codepen/ParticleSidebar.vue';
-import {defineAsyncComponent} from 'vue';
+// import {useI18n} from 'vue-i18n';
 
 import {useRouter} from 'vue-router';
 import paticlebar from '@/codepen/ParticleSidebar.vue';
@@ -83,11 +81,11 @@
 const navigateToForget = () => {
   window.location.href = '/forget';
 };
-const {t, locale} = useI18n({useScope: "global"});
-const selectedLanguage = ref('zh');
-const changeLanguage = () => {
-  locale.value = selectedLanguage.value;
-};
+// const {t, locale} = useI18n({useScope: "global"});
+// const selectedLanguage = ref('zh');
+// const changeLanguage = () => {
+//   locale.value = selectedLanguage.value;
+// };
 
 const rules = {
   username: [
@@ -106,31 +104,31 @@
 const loginForm = ref(null);
 
 const refreshKaptcha = () => {
-  kaptchaSrc.value = `/kaptcha?${new Date().getTime()}`;
+  // kaptchaSrc.value = `/kaptcha?${new Date().getTime()}`;
 };
 
 const handleSubmit = () => {
-  loginForm.value.validate((valid) => {
-    if (valid) {
-      postData();
-    } else {
-      console.log('表单验证失败');
-      return false;
-    }
-  });
+  // loginForm.value.validate((valid) => {
+  //   if (valid) {
+  //     postData();
+  //   } else {
+  //     console.log('表单验证失败');
+  //     return false;
+  //   }
+  // });
 };
 
 const postData = () => {
-  axios
-      .post('/login', form.value)
-      .then((response) => {
-        console.log("登录成功");
-        ElMessage.success(t('message.loginSuccess'));
-      })
-      .catch((error) => {
-        console.error('登录失败:', error);
-        ElMessage.error(t('message.loginFailed'));
-      });
+  // axios
+  //     .post('/login', form.value)
+  //     .then((response) => {
+  //       console.log("登录成功");
+  //       ElMessage.success(t('message.loginSuccess'));
+  //     })
+  //     .catch((error) => {
+  //       console.error('登录失败:', error);
+  //       ElMessage.error(t('message.loginFailed'));
+  //     });
 };
 
 
Index: community/src/api/api.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/community/src/api/api.ts b/community/src/api/api.ts
new file mode 100644
--- /dev/null	(date 1724983719524)
+++ b/community/src/api/api.ts	(date 1724983719524)
@@ -0,0 +1,18 @@
+// api-config.js
+const ip = 'http://localhost:5000/';
+
+export default {
+    user:{
+        login:ip+'user/login',
+    },
+    school:{
+        addschool:ip+'school/addschool',
+        schoollist:ip+'school/schoollist',
+        allschool:ip+'school/allschool'
+    },
+    student:{
+        addstudent:ip+'student/addstudent',
+        studentlist:ip+'student/studentlist',
+        allstudent:ip+'student/allstudent'
+    }
+};
